# docker-compose version tag.
version: "3"

# Define docker-composes services
services:

  # MessageQueue Container
  message_queue:
    # Path of Dockerfile
    build: 
      context: .

    # The command to execute once the image is created.
    # command: python ./code.py

    # Container can access to the 'localhost' of the computer.
    network_mode: host
    
    # Setting common volume, to share files among containers
    volumes:
      - ./:/usr/src/app
    
    # Define port so it would be accessible from outside the container
    # [port on machine]:[port in the container]
    ports:
      - 5672:5672

    # Defining environment variables      
    environment:
      RUN: MESSAGE_QUEUE
  